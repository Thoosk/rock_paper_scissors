<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPS</title>
  </head>
  <body></body>

  <script>
    // Playing a round of RPS against a computer who picks his choice random
    // Create array of "Rock", "Paper" & "Scissor"
    // Create a function that randomly picks one value out of the array
    // Ask the user for input (case insensitve)
    // Create a String that declares the winner like "You win! Paper beats Rock" if the player wins, else "You lose! Paper beats Rock"

    // function for creating a number between 0 and 2 (min and max size of array)
    function randomNumber() {
      const min = 0;
      const max = 3;
      let rndNumber = Math.floor(Math.random() * max + min);
      return rndNumber;
    }
    const choices = ["rock", "paper", "scissors"];

    // Function for generating a random choice
    function computerPlay() {
      return choices[randomNumber()];
    }

    // UI for player
    // function playerInput() {
    //   while (true) {
    //     let userInput = prompt("Choose between Rock, Paper & Scissors");

    //     if (typeof userInput != typeof "" || !choices.includes(userInput)) {
    //       console.log("Please type in one of the given choices.");
    //       if (userInput === "x") {
    //         break;
    //       }
    //       continue;
    //     } else {
    //       return userInput;
    //     }
    //   }
    // }

    function rps(playerSelection, computerSelection) {
      // first capitalize the first word of the selections
      const capPlayerSelection = playerSelection.replace(/^\w/, (c) =>
        c.toUpperCase()
      );
      const capComputerSelection = computerSelection.replace(/^\w/, (c) =>
        c.toUpperCase()
      );

      // result strings
      const win = `You win! ${capPlayerSelection} beats ${capComputerSelection}`;
      const lose = `You lose! ${capComputerSelection} beats ${capPlayerSelection}`;

      // 0 == rock, 1 == paper, 2 == scissors
      switch (true) {
        case playerSelection === computerSelection:
          return "You made the same choice.";

        // if player chooses rock -> check if computer chose paper
        case playerSelection === choices[0]:
          if (computerSelection === choices[1]) {
            return lose;
          } else {
            return win;
            break;
          }
        // if player chooses paper -> check if computer chose scissors
        case playerSelection === choices[1]:
          if (computerSelection === choices[2]) {
            return lose;
            break;
          } else {
            return win;
            break;
          }
        // if player chosses scissors -> check if computer chose rock
        case playerSelection === choices[2]:
          if (computerSelection === choices[0]) {
            return lose;
            break;
          } else {
            return win;
            break;
          }
      }
    }

    console.log("Welcome to the smallest Version of Rock, Paper, Scissors!");
    // const userSelection = playerInput().toLowerCase;
    let compSelection = computerPlay();

    let result = rps("rock", compSelection);
    console.log(result);
  </script>
</html>
